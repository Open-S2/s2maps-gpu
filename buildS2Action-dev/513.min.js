"use strict";(this.webpackChunk=this.webpackChunk||[]).push([[513],{53:(e,t,o)=>{function n(e,t,o){var n=e.createShader(o);if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){var r=e.getShaderInfoLog(n);return console.log("*** Error compiling shader '".concat(n,"': ").concat(r)),e.deleteShader(n),null}return n}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function u(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){s(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function a(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,{Z:()=>c});var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"vertexShader",void 0),s(this,"fragmentShader",void 0),s(this,"radii",!1),s(this,"context",void 0),s(this,"gl",void 0),s(this,"glProgram",void 0),s(this,"uMatrix",void 0),s(this,"uAspect",void 0),s(this,"uMode",void 0),s(this,"u3D",void 0),s(this,"uLCH",void 0),s(this,"uInteractive",void 0),s(this,"uFaceST",void 0),s(this,"uBottom",void 0),s(this,"uTop",void 0),s(this,"uInputs",void 0),s(this,"uLayerCode",void 0),s(this,"uFeatureCode",void 0),s(this,"uDevicePixelRatio",void 0),s(this,"updateColorBlindMode","none"),s(this,"updateMatrix",null),s(this,"updateInputs",null),s(this,"updateAspect",null),s(this,"curMode",-1),s(this,"threeD",void 0),s(this,"LCH",void 0),s(this,"colorBlind",void 0),s(this,"interactive",void 0),this.context=t;var o=t.gl;this.gl=o,this.glProgram=o.createProgram()}var t,o;return t=e,o=[{key:"buildShaders",value:function(e,t){var o=this.gl,r=this.glProgram;this.setupAttributes(e.attributes);var i=this.vertexShader=n(o,e.source,o.VERTEX_SHADER),a=this.fragmentShader=n(o,t.source,o.FRAGMENT_SHADER);if(!i||!a)throw Error("missing shaders");if(o.attachShader(r,i),o.attachShader(r,a),o.linkProgram(r),!o.getProgramParameter(r,o.LINK_STATUS))throw Error(o.getProgramInfoLog(r));this.setupUniforms(u(u({},e.uniforms),t.uniforms))}},{key:"setupUniforms",value:function(e){for(var t=this.gl,o=this.glProgram,n=0,i=Object.entries(e);n<i.length;n++){var u=(c=i[n],l=2,function(e){if(Array.isArray(e))return e}(c)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,i=[],u=!0,a=!1;try{for(o=o.call(e);!(u=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(e){a=!0,r=e}finally{try{u||null==o.return||o.return()}finally{if(a)throw r}}return i}}(c,l)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(e,t):void 0}}(c,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=u[0],s=u[1];this[a]=t.getUniformLocation(o,s)}var c,l}},{key:"setupAttributes",value:function(e){var t=this.gl,o=this.glProgram,n=t.attributeLocations;if(n)for(var r in n)t.bindAttribLocation(o,n[r],e[r])}},{key:"delete",value:function(){var e=this.gl,t=this.vertexShader,o=this.fragmentShader;e.deleteShader(t),e.deleteShader(o)}},{key:"use",value:function(){var e=this.gl,t=this.glProgram;e.useProgram(t),this.flush()}},{key:"injectFrameUniforms",value:function(e,t,o){this.updateMatrix=e,this.updateInputs=t,this.updateAspect=o}},{key:"flush",value:function(){this.updateColorBlindMode&&this.setColorBlindMode(this.updateColorBlindMode),this.updateMatrix&&this.setMatrix(this.updateMatrix),this.updateInputs&&this.setInputs(this.updateInputs),this.updateAspect&&this.setAspect(this.updateAspect)}},{key:"setDevicePixelRatio",value:function(e){this.gl.uniform1f(this.uDevicePixelRatio,e)}},{key:"setColorBlindMode",value:function(e){this.gl.uniform1f(this.uColorBlind,"protanopia"===e?1:"deutranopia"===e?2:"tritanopia"===e?3:0),this.updateColorBlindMode=null}},{key:"setMatrix",value:function(e){this.gl.uniformMatrix4fv(this.uMatrix,!1,e),this.updateMatrix=null}},{key:"setInputs",value:function(e){this.gl.uniform1fv(this.uInputs,e,0,e.length),this.updateInputs=null}},{key:"setAspect",value:function(e){this.uAspect&&this.gl.uniform2fv(this.uAspect,e),this.updateAspect=null}},{key:"setFaceST",value:function(e){this.gl.uniform1fv(this.uFaceST,e,0,e.length)}},{key:"setTilePos",value:function(e,t){e&&this.gl.uniform4fv(this.uBottom,e,0,4),t&&this.gl.uniform4fv(this.uTop,t,0,4)}},{key:"setLayerCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.gl;e.length&&o.uniform1fv(this.uLayerCode,e,0,e.length),this.uLCH&&this.LCH!==t&&(this.LCH=t,o.uniform1i(this.uLCH,~~t))}},{key:"setInteractive",value:function(e){var t=this.gl;this.interactive!==e&&(this.interactive=e,t.uniform1i(this.uInteractive,e))}},{key:"setFeatureCode",value:function(e){e&&e.length&&this.gl.uniform1fv(this.uFeatureCode,e)}},{key:"set3D",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.u3D&&this.threeD!==e&&(this.threeD=e,this.gl.uniform1i(this.u3D,e))}},{key:"setMode",value:function(e){this.uMode&&this.curMode!==e&&(this.curMode=e,this.gl.uniform1i(this.uMode,e))}},{key:"draw",value:function(e){}}],o&&a(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},513:(e,t,o)=>{o.r(t),o.d(t,{default:()=>h});var n=o(53);const r={source:"precision highp float;attribute vec2 aA;uniform float uB[6];uniform vec4 uC;uniform vec4 uD;uniform mat4 uE;float STtoUV(float s){if(s>=0.5) return(1./3.)*(4.*s*s-1.);else return(1./3.)*(1.-4.*(1.-s)*(1.-s));}vec4 STtoXYZ(in vec2 st){st/=8192.;int face=int(uB[0]);vec3 xyz;vec2 uv=vec2(STtoUV(uB[2]*st.x+uB[3]),STtoUV(uB[4]*st.y+uB[5]) );if(face==0) xyz=vec3(uv.x,uv.y,1.);else if(face==1) xyz=vec3(1.,uv.y,-uv.x);else if(face==2) xyz=vec3(-uv.y,1.,-uv.x);else if(face==3) xyz=vec3(-uv.y,-uv.x,-1.);else if(face==4) xyz=vec3(-1.,-uv.x,uv.y);else xyz=vec3(uv.x,-1.,uv.y);xyz=normalize(xyz)*6371.0088;return vec4(xyz,1.);}vec4 getPosLocal(in vec2 pos){pos/=8192.;vec2 deltaBottom=uC.zw-uC.xy;vec2 deltaTop=uD.zw-uD.xy;vec2 bottomPosS=uC.xy+deltaBottom*pos.x;vec2 topPosS=uD.xy+deltaTop*pos.x;vec2 deltaS=topPosS-bottomPosS;vec2 res=bottomPosS+deltaS*pos.y;return vec4(res,0.,1.);}vec4 getPos(in vec2 pos){if(uB[1]<12.){return uE*STtoXYZ(pos);}else{return getPosLocal(pos);}}vec4 getZero(){if(uB[1]<12.){return uE*vec4(0.,0.,0.,1.);}else{return vec4(0.,0.,1.,1.);}}varying vec2 aF;void main(){vec2 pos=aA/8192.;aF=pos;gl_Position=getPos(aA);}",uniforms:{uFaceST:"uB",uBottom:"uC",uTop:"uD",uMatrix:"uE"},attributes:{aPos:"aA",vExtent:"aF"}},i={source:"precision highp float;varying vec2 aF;uniform sampler2D uG;uniform sampler2D uH;uniform sampler2D uI;uniform float uJ;uniform float uK;void main(){vec4 tex=texture2D(uG,aF);float percent,t;if(uJ<1.0){percent=uJ;t=tex.r*(1.0-percent)+tex.g*percent;}else if(uJ<2.0){percent=uJ-1.0;t=tex.g*(1.0-percent)+tex.b*percent;}else if(uJ<3.0){percent=uJ-2.0;t=tex.b*(1.0-percent)+tex.a*percent;}else{vec4 tex2=texture2D(uH,aF);percent=uJ-3.0;t=tex.a*(1.0-percent)+tex2.r*percent;}vec4 color=texture2D(uI,vec2(t,0.5));color*=uK;gl_FragColor=color;}",uniforms:{uImage:"uG",uNextImage:"uH",uColorRamp:"uI",uTime:"uJ",uOpacity:"uK"},attributes:{vExtent:"aF"}},u={source:"#version 300 es\nprecision highp float;layout(location=0) in vec2 aA;uniform float uB[16];uniform float uC[128];uniform float uD[64];uniform float uE;uniform bool uF;vec4 LCH2LAB(in vec4 lch){float h=lch.b*(3.1415926538/180.);return vec4(lch.r,cos(h)*lch.g,sin(h)*lch.g,lch.a );}float LAB2XYZ(in float t){return t>0.206896552?t*t*t:0.12841855*(t-0.137931034);}float XYZ2RGB(in float r){return 255.*(r<=0.00304?12.92*r:1.055*pow(r,1./2.4)-0.055);}vec4 LAB2RGB(in vec4 lab){float x,y,z,r,g,b;y=(lab.r+16.)/116.;x=y+lab.g/500.;z=y-lab.b/200.;x=0.950470*LAB2XYZ(x);y=1.*LAB2XYZ(y);z=1.088830*LAB2XYZ(z);r=XYZ2RGB(3.2404542*x-1.5371385*y-0.4985314*z);g=XYZ2RGB(-0.9692660*x+1.8760108*y+0.0415560*z);b=XYZ2RGB(0.0556434*x-0.2040259*y+1.0572252*z);if(r<0.) r=0.;else if(r>255.) r=255.;if(g<0.) g=0.;else if(g>255.) g=255.;if(b<0.) b=0.;else if(b>255.) b=255.;return vec4(r,g,b,lab.a);}vec4 LCH2RGB(in vec4 lch){vec4 res;res=LCH2LAB(lch);res=LAB2RGB(res);res.r/=255.;res.g/=255.;res.b/=255.;return res;}vec4 colorBlindAdjust(in vec4 rgba,in float aG){float r=rgba.r*255.;float g=rgba.g*255.;float b=rgba.b*255.;float CVD[9];if(aG==1.) CVD=float[9](0.0,2.02344,-2.52581,0.,1.,0.,0.,0.,1.);else if(aG==2.) CVD=float[9](1.0,0.,0.,0.494207,0.,1.24827,0.,0.,1.);else CVD=float[9](1.0,0.,0.,0.,1.0,0.,-0.395913,0.801109,0.);float L=(17.8824*r)+(43.5161*g)+(4.11935*b);float M=(3.45565*r)+(27.1554*g)+(3.86714*b);float S=(0.0299566*r)+(0.184309*g)+(1.46709*b);float l=(CVD[0]*L)+(CVD[1]*M)+(CVD[2]*S);float m=(CVD[3]*L)+(CVD[4]*M)+(CVD[5]*S);float s=(CVD[6]*L)+(CVD[7]*M)+(CVD[8]*S);float R=(0.0809444479*l)+(-0.130504409*m)+(0.116721066*s);float G=(-0.0102485335*l)+(0.0540193266*m)+(-0.113614708*s);float B=(-0.000365296938*l)+(-0.00412161469*m)+(0.693511405*s);R=r-R;G=g-G;B=b-B;float GG=(0.7*R)+(1.0*G);float BB=(0.7*R)+(1.0*B);return vec4(clamp(r,0.,255.)/255.,clamp(GG+g,0.,255.)/255.,clamp(BB+b,0.,255.)/255.,rgba.a );}float exponentialInterpolation(float inputVal,float start,float end,float base){float diff=end-start;if(diff==0.) return 0.;if(base<=0.) base=0.1;else if(base>2.) base=2.;float progress=inputVal-start;if(base==1.) return progress/diff;return(pow(base,progress)-1.)/(pow(base,diff)-1.);}vec4 interpolateColor(vec4 color1,vec4 color2,float t){if(t==0.) return color1;else if(t==1.) return color2;float sat,hue,lbv,dh,alpha;if(uF){if(color2[0]>color1[0] && color2[0]-color1[0]>180.) dh=color2[0]-color1[0]+360.;else if(color2[0]<color1[0] && color1[0]-color2[0]>180.) dh=color2[0]+360.-color1[0];else dh=color2[0]-color1[0];hue=color1[0]+t*dh;}else{hue=color1[0]+t*(color2[0]-color1[0]);}sat=color1[1]+t*(color2[1]-color1[1]);lbv=color1[2]+t*(color2[2]-color1[2]);alpha=color1[3]+t*(color2[3]-color1[3]);return vec4(hue,sat,lbv,alpha);}vec4 decodeFeature(bool color,inout int index,inout int featureIndex){int decodeOffset=index;int startingOffset=index;int featureSize=int(uC[index])>>10;vec4 res=vec4(-1,-1,-1,-1);int conditionStack[6];float tStack[6];int stackIndex=1;conditionStack[0]=index;int len,conditionSet,condition;do{stackIndex--;startingOffset=index=conditionStack[stackIndex];conditionSet=int(uC[index]);len=conditionSet>>10;condition=(conditionSet & 1008)>>4;index++;if(condition==0){}else if(condition==1){if(res[0]==-1.){for(int i=0;i<len-1;i++) res[i]=uC[index+i];}else{if(color){vec4 val=vec4(uC[index],uC[index+1],uC[index+2],uC[index+3]);res=interpolateColor(res,val,tStack[stackIndex]);}else{for(int i=0;i<len-1;i++) res[i]=res[i]+tStack[stackIndex]*(uC[index+i]-res[i]);}}}else if(condition==2||condition==3){float inputVal,conditionInput;if(condition==2){inputVal=uD[featureIndex];featureIndex++;}else{inputVal=uB[(conditionSet & 14)>>1];}conditionInput=uC[index];while(inputVal !=conditionInput){index+=(int(uC[index+1])>>10)+1;conditionInput=uC[index];if(conditionInput==0.) break;}index++;conditionStack[stackIndex]=index;tStack[stackIndex]=1.;stackIndex++;}else if(condition==4||condition==5){int interpolationType=conditionSet & 1;int inputType=(conditionSet & 14)>>1;float base=1.;if(interpolationType==1){base=uC[index];index++;}float inputVal,start,end;int startIndex,endIndex,subCondition;if(condition==4){inputVal=uD[featureIndex];featureIndex++;}else{inputVal=uB[inputType];}start=end=uC[index];startIndex=endIndex=index+1;while(end<inputVal && endIndex<len+startingOffset){subCondition=(int(uC[startIndex]) & 1008)>>4;if(subCondition==2||subCondition==4) featureIndex++;index++;index+=int(uC[index])>>10;start=end;startIndex=endIndex;endIndex=index+1;if(endIndex<len+startingOffset) end=uC[index];}if(startIndex==endIndex){conditionStack[stackIndex]=startIndex;tStack[stackIndex]=1.;if(stackIndex>0) tStack[stackIndex]=tStack[stackIndex-1];stackIndex++;}else if(end==inputVal){conditionStack[stackIndex]=endIndex;tStack[stackIndex]=1.;if(stackIndex>0) tStack[stackIndex]=tStack[stackIndex-1];stackIndex++;}else{float t=exponentialInterpolation(inputVal,start,end,base);conditionStack[stackIndex]=startIndex;tStack[stackIndex]=1.-t;stackIndex++;conditionStack[stackIndex]=endIndex;tStack[stackIndex]=t;stackIndex++;}while(endIndex<len+startingOffset){subCondition=(int(uC[startIndex]) & 1008)>>4;if(subCondition==2||subCondition==4) featureIndex++;index++;index+=int(uC[index])>>10;endIndex=index+1;}}else if(condition==6){res=vec4(0.,0.,0.,1.);return res;}else if(condition==7){}if(stackIndex>5){index=featureSize+decodeOffset;if(color && uF) res=LCH2RGB(res);return res;}}while(stackIndex>0);index=featureSize+decodeOffset;if(color && uF) res=LCH2RGB(res);if(color && uE !=0.) res=colorBlindAdjust(res,uE);return res;}uniform float uH[6];uniform vec4 uI;uniform vec4 uJ;uniform mat4 uK;float STtoUV(float s){if(s>=0.5) return(1./3.)*(4.*s*s-1.);else return(1./3.)*(1.-4.*(1.-s)*(1.-s));}vec4 STtoXYZ(in vec2 st){st/=8192.;int face=int(uH[0]);vec3 xyz;vec2 uv=vec2(STtoUV(uH[2]*st.x+uH[3]),STtoUV(uH[4]*st.y+uH[5]) );if(face==0) xyz=vec3(uv.x,uv.y,1.);else if(face==1) xyz=vec3(1.,uv.y,-uv.x);else if(face==2) xyz=vec3(-uv.y,1.,-uv.x);else if(face==3) xyz=vec3(-uv.y,-uv.x,-1.);else if(face==4) xyz=vec3(-1.,-uv.x,uv.y);else xyz=vec3(uv.x,-1.,uv.y);xyz=normalize(xyz)*6371.0088;return vec4(xyz,1.);}vec4 getPosLocal(in vec2 pos){pos/=8192.;vec2 deltaBottom=uI.zw-uI.xy;vec2 deltaTop=uJ.zw-uJ.xy;vec2 bottomPosS=uI.xy+deltaBottom*pos.x;vec2 topPosS=uJ.xy+deltaTop*pos.x;vec2 deltaS=topPosS-bottomPosS;vec2 res=bottomPosS+deltaS*pos.y;return vec4(res,0.,1.);}vec4 getPos(in vec2 pos){if(uH[1]<12.){return uK*STtoXYZ(pos);}else{return getPosLocal(pos);}}vec4 getZero(){if(uH[1]<12.){return uK*vec4(0.,0.,0.,1.);}else{return vec4(0.,0.,1.,1.);}}out vec2 aL;out float aM;void main(){vec2 pos=aA/8192.;aL=pos;int index=0;int featureIndex=0;aM=decodeFeature(false,index,featureIndex)[0];gl_Position=getPos(aA);}",uniforms:{uInputs:"uB",uLayerCode:"uC",uFeatureCode:"uD",uColorBlind:"uE",uLCH:"uF",uFaceST:"uH",uBottom:"uI",uTop:"uJ",uMatrix:"uK"},attributes:{aPos:"aA",colorMode:"aG",vExtent:"aL",vOpacity:"aM"}},a={source:"#version 300 es\nprecision highp float;in vec2 aL;in float aM;uniform sampler2D uN;uniform sampler2D uO;uniform sampler2D uP;uniform float uQ;out vec4 aR;void main(){vec4 tex=texture(uN,aL);float percent,t;if(uQ<1.0){percent=uQ;t=tex.r*(1.0-percent)+tex.g*percent;}else if(uQ<2.0){percent=uQ-1.0;t=tex.g*(1.0-percent)+tex.b*percent;}else if(uQ<3.0){percent=uQ-2.0;t=tex.b*(1.0-percent)+tex.a*percent;}else{vec4 tex2=texture(uO,aL);percent=uQ-3.0;t=tex.a*(1.0-percent)+tex2.r*percent;}vec4 color=texture(uP,vec2(t,0.5));color*=aM;aR=color;}",uniforms:{uImage:"uN",uNextImage:"uO",uColorRamp:"uP",uTime:"uQ"},attributes:{vExtent:"aL",vOpacity:"aM",fragColor:"aR"}};function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&l(e,t)}(x,e);var t,o,n,s,h=(n=x,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(n);if(s){var o=v(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f(this,e)});function x(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,x);var o=e.gl,n=e.type;return 1===n&&(o.attributeLocations={aPos:0}),p(d(t=h.call(this,e)),"uTime",void 0),p(d(t),"uOpacity",void 0),p(d(t),"nullTexture",void 0),1===n?t.buildShaders(r,i):t.buildShaders(u,a),t.use(),o.uniform1i(t.uColorRamp,0),o.uniform1i(t.uImage,1),o.uniform1i(t.uNextImage,2),t.nullTexture=t._createNullTexture(),t}return t=x,(o=[{key:"_createNullTexture",value:function(){var e=this.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null),t}},{key:"draw",value:function(e,t){var o=this.gl,n=this.context,r=this.uTime,i=(this.uFace,n.type),u=t.count,a=t.mode,s=e.colorRamp,c=e.featureCode,l=e.opacity,f=e.depthPos,d=e.getTextures(),v=d.time,p=d.texture,h=d.textureNext;!isNaN(v)&&p&&(n.oneBlend(),f?(n.enableDepthTest(),n.lessDepth(),n.setDepthRange(f)):n.resetDepthRange(),1===i?isNaN(l)||o.uniform1f(this.uOpacity,l):c&&this.setFeatureCode(c),o.uniform1f(r,v),o.activeTexture(o.TEXTURE2),h?o.bindTexture(o.TEXTURE_2D,h):o.bindTexture(o.TEXTURE_2D,this.nullTexture),o.activeTexture(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,p),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,s),o.drawElements(a||o.TRIANGLES,u,o.UNSIGNED_INT,0))}}])&&c(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),x}(n.Z)}}]);