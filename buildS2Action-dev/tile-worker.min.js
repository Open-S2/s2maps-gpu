(()=>{"use strict";var t,e,r={820:(t,e,r)=>{r.d(e,{nf:()=>n.Z,Iw:()=>o.Z,FQ:()=>a.Z,xX:()=>l,Xf:()=>f.Z,Nh:()=>s});var n=r(177),o=r(373),a=r(725),i=r(345);function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){if(t){if(Array.isArray(t)){var r=t.shift();if("data-condition"===r)return function(t,e){for(var r=[];t.length;)if(Array.isArray(t[0])){var n=t.shift(),o=l(t.shift(),e);r.push({condition:(0,f.Z)(n),result:o})}else"default"===t[0]&&(t.shift(),r.default=l(t.shift(),e));return r.default||(r.default=function(){return null}),function(t,e,n){if(e)for(var o,a=0,i=r.length;a<i;a++)if((o=r[a]).condition(e))return t&&t.push(a+1),o.result(t,e,n);return t&&t.push(0),r.default(t,e,n)}}(t,e);if("data-range"===r)return function(t,e){var r=t.shift(),n=t.shift(),a=1;"expo"===n&&(a=t.shift());for(var i=(0,o.Z)(n,a),u=1,f=t.length;u<f;)t[u]=l(t[u],e),u+=2;return function(e,n,o){var a=n&&n[r]&&!isNaN(n[r])?+n[r]:0;if(a<=t[0])return t[1](e,n,a);if(a>=t[t.length-2])return t[t.length-1](e,n,a);for(var u=0;t[u]<=a;)u+=2;var l=t[u-2],f=t[u-1](e,n,a);if(l===a)return f;var c=t[u],s=t[u+1](e,n,a);return i(a,l,c,f,s)}}(t,e);if("input-range"===r)return function(t,e){t.shift();var r=t.shift(),n=1;"expo"===r&&(n=t.shift());for(var a=(0,o.Z)(r,n),i=1,u=t.length;i<u;)t[i]=l(t[i],e),i+=2;return function(e,r,n){if(n<=t[0])return t[1](e,r,n);if(n>=t[t.length-2])return t[t.length-1](e,r,n);for(var o=0;t[o]<=n;)o+=2;var i=t[o-2],u=t[o-1](e,r,n);if(i===n)return u;var l=t[o],f=t[o+1](e,r,n);return a(n,i,l,u,f)}}(t,e);if("feature-state"===r)return function(t,e){for(;t.length&&"default"!==t[0];)t.shift();var r=l(t="default"===t[0]?t[1]:null,e);return function(t,e,n){return r(t,e,n)}}(t,e);var n=[r].concat(function(t){if(Array.isArray(t))return u(t)}(c=t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(c)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return function(){return n}}if("color"===e||"stroke"===e||"text-fill"===e||"text-stroke"===e){var a=new i.Z(t);return function(){return a}}return function(){return t}}var c;return function(){return null}}var f=r(433);function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){var r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o.filter=(0,f.Z)(o.filter),(0,a.Z)(o),o.layoutLocal)for(var i in o.layoutLocal)o.layoutLocal[i]=l(o.layoutLocal[i],i);if(o.paintLocal)for(var u in o.paintLocal)o.paintLocal[u]=l(o.paintLocal[u],u);for(var s in o.layout)o.layout[s]=l(o.layout[s],s);for(var y in o.paint)o.paint[y]=l(o.paint[y],y)}}catch(t){n.e(t)}finally{n.f()}}},301:(t,e,r)=>{var n=r(894);function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l=function(){function t(e,r,n,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,"properties",{}),u(this,"type",0),u(this,"indices",[]),u(this,"_indices",-1),u(this,"_geometry",-1),u(this,"_tesselation",-1),this.extent=n,this._pbf=e,this._keys=o,this._values=a,e.readFields(this.readFeature,this,r)}var e,r;return e=t,(r=[{key:"readFeature",value:function(t,e,r){1===t?e.readTag(r,e):2===t?e.type=r.readVarint():3===t?e._geometry=r.pos:4===t?e._indices=r.pos:5===t&&(e._tesselation=r.pos)}},{key:"readTag",value:function(t,e){for(var r=t.readVarint()+t.pos;t.pos<r;){var n=e._keys[t.readVarint()],o=e._values[t.readVarint()];e.properties[n]=o}}},{key:"loadGeometryFlat",value:function(){this._pbf.pos=this._geometry;for(var t,e,r=Math.round,n=8192/this.extent,o=[],a=this._pbf.readVarint()+this._pbf.pos,i=1,u=0,l=0,f=0;this._pbf.pos<a;){if(u<=0){var c=this._pbf.readVarint();i=7&c,u=c>>3}u--,1===i||2===i?(l+=this._pbf.readSVarint(),f+=this._pbf.readSVarint(),t||(t=l),e||(e=f),o.push(r(l*n),r(f*n))):7===i&&(o.push(r(t*n),r(e*n)),t=null,e=null)}return this._indices>0&&this.readIndices(),this._tesselation>0&&this.addTesselation(o,n),o}},{key:"loadGeometry",value:function(){this._pbf.pos=this._geometry;for(var t,e=[],r=[],n=this._pbf.readVarint()+this._pbf.pos,a=1,i=0,u=0,l=0,f=null;this._pbf.pos<n;){if(i<=0){var c=this._pbf.readVarint();a=7&c,i=c>>3}var s;if(i--,1===a||2===a)u+=this._pbf.readSVarint(),l+=this._pbf.readSVarint(),1===a&&(f&&(1===this.type?(s=r).push.apply(s,o(f)):r.push(f)),f=[]),f.push([u,l]);else if(4===a)f&&r.push(f),e.push(r),r=[],f=null;else{if(7!==a)throw new Error("unknown command "+a);f&&(f.push([f[0][0],f[0][1]]),r.push(f),f=null)}}return f&&f.length&&(1===this.type?(t=r).push.apply(t,o(f)):r.push(f)),e.length?e:r}},{key:"readIndices",value:function(){if(!this.indices.length){this._pbf.pos=this._indices;for(var t=0,e=this._pbf.readVarint()+this._pbf.pos;this._pbf.pos<e;)t+=this._pbf.readSVarint(),this.indices.push(t)}}},{key:"addTesselation",value:function(t,e){var r=Math.round;this._pbf.pos=this._tesselation;for(var n=this._pbf.readVarint()+this._pbf.pos,o=0,a=0;this._pbf.pos<n;)o+=this._pbf.readSVarint(),a+=this._pbf.readSVarint(),t.push(r(o*e),r(a*e))}}])&&i(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,"version",1),c(this,"extent",4096),c(this,"length",0),c(this,"_keys",[]),c(this,"_values",[]),c(this,"_featuresPos",[]),c(this,"_features",[]),this._pbf=e,e.readFields(this.readLayer,this,r),this.length=this._featuresPos.length}var e,r;return e=t,(r=[{key:"readLayer",value:function(t,e,r){15===t?e.version=r.readVarint():1===t?e.name=r.readString():2===t?e._featuresPos.push(r.pos):3===t?e._keys.push(r.readString()):4===t?e._values.push(e.readValueMessage(r)):5===t&&(e.extent=r.readVarint())}},{key:"feature",value:function(t){if(t<0||t>=this._featuresPos.length)throw new Error("feature index out of bounds");if(this._features[t])return this._features[t];this._pbf.pos=this._featuresPos[t];var e=this._pbf.readVarint()+this._pbf.pos;return this._features[t]=new l(this._pbf,e,this.extent,this._keys,this._values)}},{key:"readValueMessage",value:function(t){for(var e=null,r=t.readVarint()+t.pos;t.pos<r;)switch(t.readVarint()>>3){case 1:e=t.readString();break;case 2:e=t.readFloat();break;case 3:e=t.readDouble();break;case 4:e=t.readVarint64();break;case 5:e=t.readVarint();break;case 6:e=t.readSVarint();break;case 7:e=t.readBoolean();break;default:e=null}return e}}])&&f(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var v=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;y(this,t),p(this,"layers",{}),this._buildLayers(e,r)}var e,r;return e=t,(r=[{key:"_buildLayers",value:function(t,e){(this._pbf=new n(t)).readFields(this.readTile,this,e)}},{key:"readTile",value:function(t,e,r){if(1===t){var n=new s(r,r.readVarint()+r.pos);n.length&&(e.layers[n.name]=n)}}}])&&h(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),d=r(820);function m(t,e,r){var n,o,a,i,u,l,f,c=e&&e.length,s=c?e[0]*r:t.length,y=b(t,0,s,r,!0),h=[];if(!y||y.next===y.prev)return h;if(c&&(y=function(t,e,r,n){var o,a,i,u=[];for(o=0,a=e.length;o<a;o++)(i=b(t,e[o]*n,o<a-1?e[o+1]*n:t.length,n,!1))===i.next&&(i.steiner=!0),u.push(M(i));for(u.sort(_),o=0;o<u.length;o++)j(u[o],r),r=g(r,r.next);return r}(t,e,y,r)),t.length>80*r){n=a=t[0],o=i=t[1];for(var p=r;p<s;p+=r)(u=t[p])<n&&(n=u),(l=t[p+1])<o&&(o=l),u>a&&(a=u),l>i&&(i=l);f=0!==(f=Math.max(a-n,i-o))?1/f:0}return x(y,h,r,n,o,f,null),h}function b(t,e,r,n,o){var a,i;if(o===function(t,e,r,n){for(var o=0,a=e,i=r-n;a<r;a+=n)o+=(t[i]-t[a])*(t[a+1]+t[i+1]),i=a;return o}(t,e,r,n)>0)for(a=e;a<r;a+=n)i=B(a,t[a],t[a+1],i);else for(a=r-n;a>=e;a-=n)i=B(a,t[a],t[a+1],i);return i&&E(i,i.next)&&(G(i),i=i.next),i}function g(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!E(n,n.next)&&0!==C(n.prev,n,n.next))n=n.next;else{if(G(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function x(t,e,r,n,o,a,i){if(t){!i&&a&&function(t,e,r,n){var o=t;do{null===o.z&&(o.z=O(o.x,o.y,e,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,r,n,o,a,i,u,l,f=1;do{for(r=t,t=null,a=null,i=0;r;){for(i++,n=r,u=0,e=0;e<f&&(u++,n=n.nextZ);e++);for(l=f;u>0||l>0&&n;)0!==u&&(0===l||!n||r.z<=n.z)?(o=r,r=r.nextZ,u--):(o=n,n=n.nextZ,l--),a?a.nextZ=o:t=o,o.prevZ=a,a=o;r=n}a.nextZ=null,f*=2}while(i>1)}(o)}(t,n,o,a);for(var u,l,f=t;t.prev!==t.next;)if(u=t.prev,l=t.next,a?A(t,n,o,a):w(t))e.push(u.i/r),e.push(t.i/r),e.push(l.i/r),G(t),t=l.next,f=l.next;else if((t=l)===f){i?1===i?x(t=S(t,e,r),e,r,n,o,a,2):2===i&&I(t,e,r,n,o,a):x(g(t),e,r,n,o,a,1);break}}}function w(t){var e=t.prev,r=t,n=t.next;if(C(e,r,n)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(k(e.x,e.y,r.x,r.y,n.x,n.y,o.x,o.y)&&C(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function A(t,e,r,n){var o=t.prev,a=t,i=t.next;if(C(o,a,i)>=0)return!1;for(var u=o.x<a.x?o.x<i.x?o.x:i.x:a.x<i.x?a.x:i.x,l=o.y<a.y?o.y<i.y?o.y:i.y:a.y<i.y?a.y:i.y,f=o.x>a.x?o.x>i.x?o.x:i.x:a.x>i.x?a.x:i.x,c=o.y>a.y?o.y>i.y?o.y:i.y:a.y>i.y?a.y:i.y,s=O(u,l,e,r,n),y=O(f,c,e,r,n),h=t.prevZ,p=t.nextZ;h&&h.z>=s&&p&&p.z<=y;){if(h!==t.prev&&h!==t.next&&k(o.x,o.y,a.x,a.y,i.x,i.y,h.x,h.y)&&C(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,p!==t.prev&&p!==t.next&&k(o.x,o.y,a.x,a.y,i.x,i.y,p.x,p.y)&&C(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;h&&h.z>=s;){if(h!==t.prev&&h!==t.next&&k(o.x,o.y,a.x,a.y,i.x,i.y,h.x,h.y)&&C(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=y;){if(p!==t.prev&&p!==t.next&&k(o.x,o.y,a.x,a.y,i.x,i.y,p.x,p.y)&&C(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function S(t,e,r){var n=t;do{var o=n.prev,a=n.next.next;!E(o,a)&&P(o,n,n.next,a)&&X(o,a)&&X(a,o)&&(e.push(o.i/r),e.push(n.i/r),e.push(a.i/r),G(n),G(n.next),n=t=a),n=n.next}while(n!==t);return n}function I(t,e,r,n,o,a){var i=t;do{for(var u=i.next.next;u!==i.prev;){if(i.i!==u.i&&T(i,u)){var l=Y(i,u);return i=g(i,i.next),l=g(l,l.next),x(i,e,r,n,o,a,null),void x(l,e,r,n,o,a,null)}u=u.next}i=i.next}while(i!==t)}function _(t,e){return t.x-e.x}function j(t,e){if(e=function(t,e){var r,n=t.x,o=t.y,a=e,i=-1/0;do{if(o<=a.y&&o>=a.next.y&&a.next.y!==a.y){var u=a.x+(o-a.y)*(a.next.x-a.x)/(a.next.y-a.y);if(u<=n&&u>i){if(i=u,u===n){if(o===a.y)return a;if(o===a.next.y)return a.next}r=a.x<a.next.x?a:a.next}}a=a.next}while(a!==e);if(!r)return null;if(n===i)return r.prev;var l,f=r,c=r.x,s=r.y,y=1/0;for(a=r.next;a!==f;)n>=a.x&&a.x>=c&&n!==a.x&&k(o<s?n:i,o,c,s,o<s?i:n,o,a.x,a.y)&&((l=Math.abs(o-a.y)/(n-a.x))<y||l===y&&a.x>r.x)&&X(a,t)&&(r=a,y=l),a=a.next;return r}(t,e),e){var r=Y(e,t);g(e,e.next),g(r,r.next)}}function O(t,e,r,n,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function M(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function k(t,e,r,n,o,a,i,u){return(o-i)*(e-u)-(t-i)*(a-u)>=0&&(t-i)*(n-u)-(r-i)*(e-u)>=0&&(r-i)*(a-u)-(o-i)*(n-u)>=0}function T(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&P(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&X(t,e)&&X(e,t)&&function(t,e){var r=(t.x+e.x)/2,n=(t.y+e.y)/2,o=t,a=!1;do{o.y>n!=o.next.y>n&&o.next.y!==o.y&&r<(o.next.x-o.x)*(n-o.y)/(o.next.y-o.y)+o.x&&(a=!a),o=o.next}while(o!==t);return a}(t,e)}function C(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function E(t,e){return t.x===e.x&&t.y===e.y}function P(t,e,r,n){return!!(E(t,r)&&E(e,n)||E(t,n)&&E(r,e))||C(t,e,r)>0!=C(t,e,n)>0&&C(r,n,t)>0!=C(r,n,e)>0}function X(t,e){return C(t.prev,t,t.next)<0?C(t,e,t.next)>=0&&C(t,t.prev,e)>=0:C(t,e,t.prev)<0||C(t,t.next,e)<0}function Y(t,e){var r=new Z(t.i,t.x,t.y),n=new Z(e.i,e.x,e.y),o=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=o,o.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function B(t,e,r,n){var o=new Z(t,e,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function G(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Z(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function L(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=R(t),o=n.vertices,a=n.holeIndices,i=n.dim,u=m(o,a,i);return U(o,u,e,i),{vertices:o,indices:u.map((function(t){return t+r}))}}function U(t,e,r,n){if(r!==1/0)for(var o=0;o<n;o++)for(var a=0;a<e.length;a+=3){var i=V(e[a],e[a+1],e[a+2],t,e,n,o,r);i&&(e[a]=i[0],e[a+1]=i[1],e[a+2]=i[2],a-=3)}}function V(t,e,r,n,o,a,i,u){var l=n[t*a+i],f=n[e*a+i],c=n[r*a+i];if(l<f&&l<c){var s=l+u-$(l,u);if(s>l&&s<=f&&s<=c&&(f!==s||f!==s))return F(s,t,e,r,l,f,c,n,o,a,i,u)}else if(l>f&&l>c){var y=$(l,u);y||(y=u);var h=l-y;if(h<l&&h>=f&&h>=c&&(f!==h||f!==h))return N(h,t,e,r,l,f,c,n,o,a,i,u)}if(f<l&&f<c){var p=f+u-$(f,u);if(p>f&&p<=c&&p<=l&&(l!==p||c!==p))return F(p,e,r,t,f,c,l,n,o,a,i,u)}else if(f>l&&f>c){var v=$(f,u);v||(v=u);var d=f-v;if(d<f&&d>=c&&d>=l&&(l!==d||c!==d))return N(d,e,r,t,f,c,l,n,o,a,i,u)}if(c<l&&c<f){var m=c+u-$(c,u);if(m>c&&m<=l&&m<=f&&(l!==m||f!==m))return F(m,r,t,e,c,l,f,n,o,a,i,u)}else if(c>l&&c>f){var b=$(c,u);b||(b=u);var g=c-b;if(g<c&&g>=l&&g>=f&&(l!==g||f!==g))return N(g,r,t,e,c,l,f,n,o,a,i,u)}}function z(t,e,r,n,o,a,i,u){for(var l,f,c=a.length/i,s=(o-n)/(t-n),y=0;y<i;y++)l=a[e*i+y],f=a[r*i+y],y!==u?a.push(l+(f-l)/s):a.push(t);return c}function F(t,e,r,n,o,a,i,u,l,f,c,s){var y=z(t,e,r,o,a,u,f,c),h=z(t,e,n,o,i,u,f,c);if(l.push(e,y,h),t+=s,a<i){for(;t<a;)l.push(h,y),h=z(t,e,n,o,i,u,f,c),l.push(h,h,y),y=z(t,e,r,o,a,u,f,c),l.push(y),t+=s;return l.push(h,y,r),[h,r,n]}for(;t<i;)l.push(h,y),h=z(t,e,n,o,i,u,f,c),l.push(h,h,y),y=z(t,e,r,o,a,u,f,c),l.push(y),t+=s;return l.push(h,y,n),[n,y,r]}function N(t,e,r,n,o,a,i,u,l,f,c,s){var y=z(t,e,r,o,a,u,f,c),h=z(t,e,n,o,i,u,f,c);if(l.push(e,y,h),t-=s,a>i){for(;t>a;)l.push(h,y),h=z(t,e,n,o,i,u,f,c),l.push(h,h,y),y=z(t,e,r,o,a,u,f,c),l.push(y),t-=s;return l.push(h,y,r),[h,r,n]}for(;t>i;)l.push(h,y),h=z(t,e,n,o,i,u,f,c),l.push(h,h,y),y=z(t,e,r,o,a,u,f,c),l.push(y),t-=s;return l.push(h,y,n),[n,y,r]}function $(t,e){return(t%e+e)%e}function R(t){for(var e=0,r=[],n=[],o=0,a=t.length;o<a;o++){for(var i=0,u=t[o].length;i<u;i++)r.push.apply(r,function(t){if(Array.isArray(t))return D(t)}(l=t[o][i])||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(l)||function(t,e){if(t){if("string"==typeof t)return D(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(t,e):void 0}}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());o>0&&(e+=t[o-1].length,n.push(e))}var l;return{vertices:r,holeIndices:n,dim:t[0][0].length}}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function W(t,e){var r=t.geometry,n=t.type,o=t.vertices,a=t.indices,i=t.extent;if(a.length)t.vertices=r;else{var u=[];if(4===n){var l,f=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return H(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}(r);try{for(f.s();!(l=f.n()).done;){var c=l.value;u.push(c)}}catch(t){f.e(t)}finally{f.f()}}else u.push(r);for(var s=8192/i,y=Math.round,h=0,p=u;h<p.length;h++){for(var v=L(p[h],i/e,o.length/2),d=0,m=v.vertices.length;d<m;d++)o.push(y(v.vertices[d]*s));for(var b=0,g=v.indices.length;b<g;b++)a.push(v.indices[b])}}}function q(t,e){for(var r=t.layerIndex-e.layerIndex,n=0,o=Math.min(t.code.length,e.code.length);0===r&&n<o;)r=t.code[n]-e.code[n],n++;return r}function J(t){return function(t){if(Array.isArray(t))return tt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||K(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=K(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function K(t,e){if(t){if("string"==typeof t)return tt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tt(t,e):void 0}}function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rt(t,e,r,n,o){var a,i=e.division,u=e.id,l=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return et(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?et(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}(n);try{for(l.s();!(a=l.n()).done;)W(a.value,i)}catch(t){l.e(t)}finally{l.f()}!function(t,e,r,n,o){var a;n.sort(q);var i=!1;if(n[0].featureCode){i=!0;var u,l=Q(n);try{for(l.s();!(u=l.n()).done;){var f=u.value;a=f.code,f.code=f.featureCode,f.featureCode=a}}catch(t){l.e(t)}finally{l.f()}}var c,s=[],y=[],h=[],p=[],v=[],d=[],m=[],b=0,g=0,x={"":0},w=0,A=n[0].layerIndex,S=Q(n);try{for(S.s();!(c=S.n()).done;){var I=c.value;(A!==I.layerIndex||d.length+I.code.length>64)&&(y.length-b&&v.push.apply(v,[A,y.length-b,b,d.length].concat(J(d))),i&&v.push.apply(v,[m.length].concat(J(m))),b=y.length,d=[],m=[],x={"":0});var _,j,O=I.code.toString();void 0===(w=x[O])&&(w=x[O]=i?m.length:d.length,(_=d).push.apply(_,J(I.code)),i&&(j=m).push.apply(j,J(I.featureCode))),g=s.length/2;for(var M=0,k=I.vertices.length;M<k;M++)s.push(I.vertices[M]);for(var T=0,C=I.indices.length;T<C;T++){var E=I.indices[T]+g;y.push(E),p[E]=w;var P=3*E;h[P]=I.idRGB[0],h[P+1]=I.idRGB[1],h[P+2]=I.idRGB[2]}A=I.layerIndex}}catch(t){S.e(t)}finally{S.f()}y.length-b&&(v.push.apply(v,[A,y.length-b,b,d.length].concat(J(d))),i&&v.push.apply(v,[m.length].concat(J(m))));var X=new Int16Array(s).buffer,Y=new Uint32Array(y).buffer,B=new Uint8Array(h).buffer,G=new Uint8Array(p).buffer,Z=new Float32Array(v).buffer;o({mapID:t,type:"fill",sourceName:e,tileID:r,vertexBuffer:X,indexBuffer:Y,fillIDBuffer:B,codeTypeBuffer:G,featureGuideBuffer:Z},[X,Y,B,G,Z])}(t,"".concat(r,":fill"),u,n,o)}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function at(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var it=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;nt(this,t),at(this,"_maxEntries",void 0),at(this,"_minEntries",void 0),at(this,"root",void 0),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries))}var e,r;return e=t,(r=[{key:"clear",value:function(){this.root=vt([])}},{key:"compareMinX",value:function(t,e){return t.minX-e.minX}},{key:"compareMinY",value:function(t,e){return t.minY-e.minY}},{key:"collides",value:function(t){var e=this.root;if(!e||!pt(t,e))return this.insert(t),!1;for(var r,n,o=[];e;){for(var a=0;a<e.children.length;a++){var i=e.children[a];if(i&&pt(t,i)){if(e.leaf||(n=i,(r=t).minX<=n.minX&&r.minY<=n.minY&&n.maxX<=r.maxX&&n.maxY<=r.maxY))return!0;o.push(i)}}e=o.pop()}return this.insert(t),!1}},{key:"insert",value:function(t){return this._insert(t,this.root.treeHeight-1),this}},{key:"_insert",value:function(t,e){var r=[],n=this._chooseSubtree(t,this.root,e,r);for(n.children.push(t),ft(n,t);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(t,r,e)}},{key:"_chooseSubtree",value:function(t,e,r,n){for(;n.push(e),!e.leaf&&n.length-1!==r;){for(var o=1/0,a=1/0,i=void 0,u=0;u<e.children.length;u++){var l=e.children[u],f=yt(l),c=(s=t,y=l,(Math.max(y.maxX,s.maxX)-Math.min(y.minX,s.minX))*(Math.max(y.maxY,s.maxY)-Math.min(y.minY,s.minY))-f);c<a?(a=c,o=f<o?f:o,i=l):c===a&&f<o&&(o=f,i=l)}e=i||e.children[0]}var s,y;return e}},{key:"_split",value:function(t,e){var r=t[e],n=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,n);var a=this._chooseSplitIndex(r,o,n),i=vt(r.children.splice(a,r.children.length-a));i.treeHeight=r.treeHeight,i.leaf=r.leaf,ut(r),ut(i),e?t[e-1].children.push(i):this._splitRoot(r,i)}},{key:"_splitRoot",value:function(t,e){this.root=vt([t,e]),this.root.treeHeight=t.treeHeight+1,this.root.leaf=!1,ut(this.root)}},{key:"_chooseSplitIndex",value:function(t,e,r){for(var n,o,a,i,u,l,f,c=1/0,s=1/0,y=e;y<=r-e;y++){var h=lt(t,0,y),p=lt(t,y,r),v=(o=h,a=p,void 0,void 0,void 0,void 0,i=Math.max(o.minX,a.minX),u=Math.max(o.minY,a.minY),l=Math.min(o.maxX,a.maxX),f=Math.min(o.maxY,a.maxY),Math.max(0,l-i)*Math.max(0,f-u)),d=yt(h)+yt(p);v<c?(c=v,n=y,s=d<s?d:s):v===c&&d<s&&(s=d,n=y)}return n||r-e}},{key:"_chooseSplitAxis",value:function(t,e,r){var n=t.leaf?this.compareMinX:ct,o=t.leaf?this.compareMinY:st;this._allDistMargin(t,e,r,n)<this._allDistMargin(t,e,r,o)&&t.children.sort(n)}},{key:"_allDistMargin",value:function(t,e,r,n){t.children.sort(n);for(var o=lt(t,0,e),a=lt(t,r-e,r),i=ht(o)+ht(a),u=e;u<r-e;u++)ft(o,t.children[u]),i+=ht(o);for(var l=r-e-1;l>=e;l--)ft(a,t.children[l]),i+=ht(a);return i}},{key:"_adjustParentBBoxes",value:function(t,e,r){for(var n=r;n>=0;n--)ft(e[n],t)}}])&&ot(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ut(t){lt(t,0,t.children.length,t)}function lt(t,e,r,n){n||(n=vt([])),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var o=e;o<r;o++)ft(n,t.children[o]);return n}function ft(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function ct(t,e){return t.minX-e.minX}function st(t,e){return t.minY-e.minY}function yt(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ht(t){return t.maxX-t.minX+(t.maxY-t.minY)}function pt(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function vt(t){return{children:t,treeHeight:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function dt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}}(t,e)||bt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=bt(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function bt(t,e){if(t){if("string"==typeof t)return gt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gt(t,e):void 0}}function gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xt(t,e){var r,n=Math.max,o=t.s,a=t.t,i=t.id,u=t.size,l=t.offset,f=t.padding,c=t.field,s=t.family,y=t.anchor,h=t.wordWrap,p=t.align,v=t.kerning,d=t.lineHeight,m=t.type,b=e[s],g=l[0],x=l[1],w=[],A=[],S=0,I=0,_=0,j=0,O=mt(c);try{for(O.s();!(r=O.n()).done;){var M=r.value;if(0===m&&(10===M||13===M||32===M&&h&&j>=h)){j=0;var k=S?_+d:0;wt(w,0,k),A.push([S,I,k]),S=0,I=0,_=0}else if(b.has(M)){var T=b.get(M),C=T.texX,E=T.texY,P=T.texW,X=T.texH,Y=T.xOffset,B=T.yOffset,G=T.width,Z=T.height,D=T.advanceWidth,L=j+Y,U=B;P&&X&&(w.push(8192*o,8192*a,g,x,L,U,G,Z,C,E,P,X,i),S++,_=n(_,Z)),I=n(I,L+G,L+D),j+=D+v}}}catch(t){O.e(t)}finally{O.f()}A.push([S,I,S?_+d:0]);var V=A.reduce((function(t,e){return n(t,e[1])}),0),z=A.reduce((function(t,e){return t+e[2]}),0);!function(t,e,r,n){if("center"===t||"right"===t){var o,a="center"===t?function(t,e){return(t-e)/2}:function(t,e){return t-e},i=0,u=mt(r);try{for(u.s();!(o=u.n()).done;){var l=dt(o.value,2),f=l[0],c=l[1];if(c!==n)for(var s=a(n,c),y=0;y<f;y++)e[13*i+4]+=s,i++;else i+=f}}catch(t){u.e(t)}finally{u.f()}}}(p,w,A,V);var F,N=function(t,e,r){return"center"===t?[-e/2,-r/2]:"top"===t?[-e/2,-r]:"topRight"===t?[-e,-r]:"right"===t?[-e,-r/2]:"bottomRight"===t?[-e,0]:"bottom"===t?[-e/2,0]:"bottomLeft"===t?[0,0]:"left"===t?[0,-r/2]:"topLeft"===t?[0,-r]:[-e/2,-r/2]}(y,V,z),$=dt(N,2),R=$[0],H=$[1];wt(w,R,H),t.minX=1024*o+g+R*u,t.minY=1024*a+x+H*u,t.maxX=t.minX+V*u,t.maxY=t.minY+z*u,t.quads=w,t.filter=[8192*o,8192*a,R,H].concat(function(t){if(Array.isArray(t))return gt(t)}(F=f)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(F)||bt(F)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[V,z,0,i])}function wt(t,e,r){for(var n=0,o=t.length;n<o;n+=13)t[n+4]+=e,t[n+5]+=r}function At(t){return function(t){if(Array.isArray(t))return _t(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||It(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=It(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function It(t,e){if(t){if("string"==typeof t)return _t(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_t(t,e):void 0}}function _t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jt(t,e,r,n){r[e]||(r[e]=new Map),n[e]||(n[e]=new Set);var o,a=n[e],i=r[e],u=St(t);try{for(u.s();!(o=u.n()).done;){var l=o.value;i.has(l)||(n._total++,a.add(l))}}catch(t){u.e(t)}finally{u.f()}}function Ot(t,e,r,n,o){r[e]||(r[e]=new Map),n[e]||(n[e]=new Map),o[e]||(o[e]=new Set);var a=o[e];n[e].has(t)||(o._total++,a.add(t))}function Mt(t,e,r,n,o){if(!t)return null;var a=[];return"icon"===e?a.push(r["icon-size"](null,n,o)):a.push.apply(a,[r["text-size"](null,n,o)].concat(At(r["text-fill"](null,n,o).getRGB()),At(r["text-stroke"](null,n,o).getRGB()),[r["text-stroke-width"](null,n,o)||0])),a}function kt(t){return function(t){if(Array.isArray(t))return Ct(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Tt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(t,e){if(t){if("string"==typeof t)return Ct(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ct(t,e):void 0}}function Ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Et(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Xt(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function Pt(t){return function(t){if(Array.isArray(t))return Yt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Xt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(t,e){if(t){if("string"==typeof t)return Yt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yt(t,e):void 0}}function Yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Zt=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Gt(this,"id",void 0),Gt(this,"mainThread",void 0),Gt(this,"sourceThread",void 0),Gt(this,"rtree",new it),Gt(this,"glyphMap",{}),Gt(this,"iconMap",{}),Gt(this,"colorMap",{}),Gt(this,"glyphStore",new Map),this.mainThread=e,this.sourceThread=r,this.id=n}var e,r;return e=t,(r=[{key:"processGlyphs",value:function(t,e,r,n){var o=this.id,a=this.glyphMap,i=this.iconMap,u=this.glyphStore,l=this.sourceThread,f=e.zoom,c=e.id,s={_total:0},y={_total:0},h=function(t,e,r,n,o,a){var i,u=[],l=St(t);try{for(l.s();!(i=l.n()).done;)for(var f=i.value,c=f.id,s=f.layerIndex,y=f.extent,h=f.code,p=f.sourceLayer,v=f.featureCode,m=f.properties,b=f.geometry,g=p.overdraw,x=p.layoutLocal,w=p.paintLocal,A=p.paint,S=0,I=["icon","text"];S<I.length;S++){var _=I[S];if(w["".concat(_,"-size")]){var j=(0,d.nf)(x["".concat(_,"-field")](null,m,e),m);if(j){var O=x["".concat(_,"-family")](null,m,e),M=x["".concat(_,"-anchor")](null,m,e);"icon"===_?Ot(j,O,r,n,a):jt(j=j.split("").map((function(t){return t.charCodeAt(0)})),O,r,o);var k,T=x["".concat(_,"-offset")](null,m,e),C=x["".concat(_,"-padding")](null,m,e),E="text"===_&&x["text-word-wrap"](null,m,e),P="text"===_&&x["text-align"](null,m,e),X="text"===_?x["text-kerning"](null,m,e):0,Y="text"===_&&x["text-line-height"](null,m,e),B=w["".concat(_,"-size")](null,m,e),G=St(b);try{for(G.s();!(k=G.n()).done;){var Z=k.value,D={id:c,type:"text"===_?0:1,overdraw:g,layerIndex:s,code:h,family:O,field:j,offset:T,padding:C,anchor:M,wordWrap:E,align:P,kerning:X,lineHeight:Y,featureCode:Mt(v,_,A,m,e),s:Z[0]/y,t:Z[1]/y,size:B,children:[]};u.push(D)}}catch(t){G.e(t)}finally{G.f()}}}}}catch(t){l.e(t)}finally{l.f()}return u}(n,f,a,i,s,y);if(s._total||y._total){delete s._total,delete y._total;var p="".concat(t,":").concat(c,":").concat(r);for(var v in s){var m=Pt(s[v]).sort((function(t,e){return t-e}));s[v]=new Uint16Array(m).buffer}for(var b in y)y[b]=Pt(y[b]);var g=Object.keys(s).length+Object.keys(y).length;l.postMessage({type:"glyphrequest",mapID:t,id:o,reqID:p,glyphList:s,iconList:y},Object.values(s)),u.set(p,{builtFeatures:h,glyphFamilyCount:g,processed:0})}else this.buildGlyphs(t,c,r,h)}},{key:"processGlyphResponse",value:function(t,e,r,n,o){var a,i,u=(a=t.split(":"),i=3,function(t){if(Array.isArray(t))return t}(a)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}}(a,i)||Xt(a,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=u[0],f=u[1],c=u[2];f=BigInt(f);var s=this.glyphStore.get(t);if(s.processed++,this._importGlyphs(r,new Float32Array(e)),n&&this._importIconMetadata(r,n,o),s.glyphFamilyCount===s.processed){this.glyphStore.delete(t);var y=s.builtFeatures;this._remapIcons(y),this.buildGlyphs(l,f,c,y)}}},{key:"_importGlyphs",value:function(t,e){for(var r=this.glyphMap[t],n=0,o=e.length;n<o;n+=10){var a={texX:e[n+1],texY:e[n+2],texW:e[n+3],texH:e[n+4],xOffset:e[n+5],yOffset:e[n+6],width:e[n+7],height:e[n+8],advanceWidth:e[n+9]};r.set(e[n],a)}}},{key:"_importIconMetadata",value:function(t,e,r){var n=this.iconMap[t];for(var o in e)n[o]=e[o];this.colorMap[t]||(this.colorMap[t]=[]);var a=this.colorMap[t];for(var i in r)a[+i]=r[i]}},{key:"_remapIcons",value:function(t){var e,r=this.iconMap,n=this.colorMap,o=Et(t);try{for(o.s();!(e=o.n()).done;){var a=e.value;if(1===a.type){var i=a.family,u=a.field,l=r[i][u],f=n[i];if(l&&f){var c,s=[],y=[],h=Et(l);try{for(h.s();!(c=h.n()).done;){var p=c.value,v=p.glyphID,d=p.colorID;y.push(v),s.push.apply(s,Pt(f[d]))}}catch(t){h.e(t)}finally{h.f()}a.field=y,a.color=s}}}}catch(t){o.e(t)}finally{o.f()}}},{key:"buildGlyphs",value:function(t,e,r,n){var o=this.rtree,a=this.mainThread,i=this.glyphMap;this.iconMap,o.clear();var u=[];n=n.filter((function(t){return t.field.length}));var l,f=Et(n=n.sort(q));try{for(f.s();!(l=f.n()).done;){var c=l.value;xt(c,i),!c.overdraw&&o.collides(c)||u.push(c)}}catch(t){f.e(t)}finally{f.f()}u.length&&function(t,e,r,n,o){var a,i=[],u=[],l=[],f=[],c=n[0].layerIndex,s=n[0].type,y=n[0].code,h=n[0].featureCode,p=n[0].code.toString(),v=0,d=0,m=0,b=0,g=0,x=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Tt(t))){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}(n);try{for(x.s();!(a=x.n()).done;){var w=a.value,A=w.type,S=w.layerIndex,I=w.code,_=w.featureCode,j=w.quads,O=w.filter,M=w.color;!b&&!m||c===S&&p===I.toString()&&s===A||(f.push.apply(f,[c,s,v,m,d,b,y.length].concat(kt(y))),h&&f.push.apply(f,kt(h)),c=S,p=I.toString(),s=A,y=I,h=_,v+=m,d+=b,m=0,b=0,g=0),O[8]=g++,i.push.apply(i,kt(O)),m++,u.push.apply(u,kt(j));var k=j.length/13;if(b+=k,M)l.push.apply(l,kt(M));else for(var T=0;T<k;T++)l.push(255,255,255,255)}}catch(t){x.e(t)}finally{x.f()}(b||m)&&(f.push.apply(f,[c,s,v,m,d,b,y.length].concat(kt(y))),h&&f.push.apply(f,kt(h)));var C=new Float32Array(i).buffer,E=new Float32Array(u).buffer,P=new Uint8ClampedArray(l).buffer,X=new Float32Array(f).buffer;o({mapID:t,type:"glyph",sourceName:e,tileID:r,glyphFilterBuffer:C,glyphQuadBuffer:E,glyphColorBuffer:P,featureGuideBuffer:X},[C,E,P,X])}(t,"".concat(r,":glyph"),e,u,a)}}])&&Bt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Dt(t){return function(t){if(Array.isArray(t))return Vt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ut(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ut(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function Ut(t,e){if(t){if("string"==typeof t)return Vt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vt(t,e):void 0}}function Vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zt(t){return"butt"===t?0:"square"===t?1:2}function Ft(t){return function(t){if(Array.isArray(t))return Nt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Nt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"butt",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=t.length;if(n<2)return{prev:[],curr:[],next:[]};var o=t[0][0]===t[n-1][0]&&t[0][1]===t[n-1][1];if(r){var a,i;a=t[0];for(var u=1;u<t.length;u++){for(i=t[u];Math.abs(a[0]-i[0])>r||Math.abs(a[1]-i[1])>r;)i=[(a[0]+i[0])/2,(a[1]+i[1])/2],t.splice(u,0,i);a=i}n=t.length}for(var l=Ft(t[0]),f=Ft(t[0]),c=[],s=t[0],y=1;y<n;y++){var h=t[y];s[0]===h[0]&&s[1]===h[1]||(c.push.apply(c,Ft(h)),f.push.apply(f,Ft(h)),l.push.apply(l,Ft(s)),s=h)}if(c.push.apply(c,Ft(t[n-1])),o&&(l.push.apply(l,Ft(t[n-2])),f.push.apply(f,Ft(t[n-1])),c.push.apply(c,Ft(t[1]))),"butt"!==e){l.unshift(c[0],c[1]),f.unshift(f[0],f[1]),c.unshift(l[2],l[3]);var p=f.length-1;l.push(c[p-1],c[p]),f.push(f[p-1],f[p]),c.push(l[p-1],l[p])}return{prev:l,curr:f,next:c}}function Rt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ht(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function Ht(t,e){if(t){if("string"==typeof t)return Wt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wt(t,e):void 0}}function Wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qt(t,e,r){var n=t.extent,o=t.properties,a=t.type,i=t.sourceLayer,u=t.vertices,l=i.layout.cap(null,o,r);t.cap=l;var f,c=8192/n,s=1===e?0:n/e,y=[];if(4===a){var h,p=Rt(t.geometry);try{for(p.s();!(h=p.n()).done;){var v=h.value;y.push.apply(y,function(t){if(Array.isArray(t))return Wt(t)}(f=v)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(f)||Ht(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}}catch(t){p.e(t)}finally{p.f()}t.geometry=y}var d,m=Math.round,b=Rt(t.geometry);try{for(b.s();!(d=b.n()).done;)for(var g=$t(d.value,l,!1,s),x=g.prev,w=g.curr,A=g.next,S=0,I=w.length;S<I;S+=2)u.push(m(x[S]*c),m(x[S+1]*c),m(w[S]*c),m(w[S+1]*c),m(A[S]*c),m(A[S+1]*c))}catch(t){b.e(t)}finally{b.f()}}function Jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qt(t,e,r,n,o){var a,i=e.division,u=e.id,l=e.zoom,f=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Jt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}(n);try{for(f.s();!(a=f.n()).done;)qt(a.value,i,l)}catch(t){f.e(t)}finally{f.f()}!function(t,e,r,n,o){var a;n.sort(q);var i=!1;if(n[0].featureCode){i=!0;var u,l=Lt(n);try{for(l.s();!(u=l.n()).done;){var f=u.value;a=f.code,f.code=f.featureCode,f.featureCode=a}}catch(t){l.e(t)}finally{l.f()}}var c,s=[],y=[],h=n[0].code,p=n[0].featureCode,v=0,d=0,m=h.toString(),b=n[0].layerIndex,g=0,x=Lt(n);try{for(x.s();!(c=x.n()).done;){var w=c.value;!v||b===w.layerIndex&&m===w.code.toString()||(y.push.apply(y,[g,b,v,d,h.length].concat(Dt(h))),i&&y.push.apply(y,[p.length].concat(Dt(p))),d+=v,v=0,h=w.code,p=w.featureCode,m=h.toString());for(var A=w.vertices.length,S=0;S<A;S++)s.push(w.vertices[S]);b=w.layerIndex,g=zt(w.cap),v+=A/6}}catch(t){x.e(t)}finally{x.f()}v&&(y.push.apply(y,[g,b,v,d,h.length].concat(Dt(h))),i&&y.push.apply(y,[p.length].concat(Dt(p))));var I=new Int16Array(s).buffer,_=new Float32Array(y).buffer;o({mapID:t,type:"line",sourceName:e,tileID:r,vertexBuffer:I,featureGuideBuffer:_},[I,_])}(t,"".concat(r,":line"),u,n,o)}function Kt(t){return function(t){if(Array.isArray(t))return re(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ee(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ee(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function ee(t,e){if(t){if("string"==typeof t)return re(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?re(t,e):void 0}}function re(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ne(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return oe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oe(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ae(t,e){var r=t.extent,n=t.properties,o=t.geometry,a=t.vertices,i=t.indices,u=t.sourceLayer,l="heatmap"===u.type&&u.layoutLocal.weight(null,n,e),f=8192/r,c=Math.round;if(l){var s,y=ne(o);try{for(y.s();!(s=y.n()).done;){var h=s.value;a.push(c(h[0]*f),c(h[1]*f)),i.push(l)}}catch(t){y.e(t)}finally{y.f()}}else{var p,v=ne(o);try{for(v.s();!(p=v.n()).done;){var d=p.value;a.push(c(d[0]*f),c(d[1]*f))}}catch(t){v.e(t)}finally{v.f()}}}function ie(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ue(t,e,r,n,o){var a,i=e.id,u=e.zoom,l=n[0].sourceLayer.type,f=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return ie(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ie(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}(n);try{for(f.s();!(a=f.n()).done;)ae(a.value,u)}catch(t){f.e(t)}finally{f.f()}!function(t,e,r,n,o){var a,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];n.sort(q);var u=!1;if(n[0].featureCode){u=!0;var l,f=te(n);try{for(f.s();!(l=f.n()).done;){var c=l.value;a=c.code,c.code=c.featureCode,c.featureCode=a}}catch(t){f.e(t)}finally{f.f()}}var s,y=[],h=[],p=[],v=[],d=n[0].code,m=n[0].featureCode,b=0,g=0,x=d.toString(),w=n[0].layerIndex,A=te(n);try{for(A.s();!(s=A.n()).done;){var S=s.value;!b||w===S.layerIndex&&x===S.code.toString()||(p.push.apply(p,[w,b,g,d.length].concat(Kt(d))),u&&p.push.apply(p,[m.length].concat(Kt(m))),g+=b,b=0,d=S.code,m=S.featureCode,x=d.toString());for(var I=S.vertices.length,_=0;_<I;_++)y.push(S.vertices[_]),_%2==0&&v.push.apply(v,Kt(S.idRGB));if(i)for(var j=S.indices.length,O=0;O<j;O++)h.push(S.indices[O]);w=S.layerIndex,b+=I/2}}catch(t){A.e(t)}finally{A.f()}b&&(p.push.apply(p,[w,b,g,d.length].concat(Kt(d))),u&&p.push.apply(p,[m.length].concat(Kt(m))));var M=new Int16Array(y).buffer,k=new Float32Array(h).buffer,T=new Uint8Array(v).buffer,C=new Float32Array(p).buffer;o({mapID:t,type:i?"heatmap":"point",sourceName:e,tileID:r,vertexBuffer:M,weightBuffer:k,fillIDBuffer:T,featureGuideBuffer:C},[M,k,T,C])}(t,"".concat(r,":").concat(l),i,n,o,"heatmap"===l)}function le(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=fe(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function fe(t,e){if(t){if("string"==typeof t)return ce(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ce(t,e):void 0}}function ce(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function se(t){return function(t){if(Array.isArray(t))return pe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||he(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=he(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function he(t,e){if(t){if("string"==typeof t)return pe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pe(t,e):void 0}}function pe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ve(t,e,r,n,o){for(var a=o.zoom,i=n.i,u=n.j,l=n.zoom,f=1<<l-a,c=0,s=0;l>a;){var y=1<<l-a;i%2!=0&&(c+=r/y),u%2!=0&&(s+=r/y),i>>=1,u>>=1,l--}return 1===e?function(t,e,r,n,o){de(t,r,n,o);for(var a=0;a<t.length;a++){var i=t[a];(i[0]<0||i[0]>e||i[1]<0||i[1]>e)&&(t.splice(a,1),a--)}return t}(t,r,c,s,f):2===e||3===e||4===e?function(t,e,r,n,o,a){if(4===e){var i,u=ye(t);try{for(u.s();!(i=u.n()).done;){var l,f=ye(i.value);try{for(f.s();!(l=f.n()).done;)de(l.value,n,o,a)}catch(t){f.e(t)}finally{f.f()}}}catch(t){u.e(t)}finally{u.f()}}else{var c,s=ye(t);try{for(s.s();!(c=s.n()).done;)de(c.value,n,o,a)}catch(t){s.e(t)}finally{s.f()}}var y=[];if(4===e){var h,p=ye(t);try{for(p.s();!(h=p.n()).done;){var v,d=h.value,m=[],b=ye(d);try{for(b.s();!(v=b.n()).done;){var g=v.value;m.push.apply(m,se(me(g,r,!0)))}}catch(t){b.e(t)}finally{b.f()}m.length&&y.push(m)}}catch(t){p.e(t)}finally{p.f()}}else{var x,w=ye(t);try{for(w.s();!(x=w.n()).done;){var A=x.value;y.push.apply(y,se(me(A,r,3===e)))}}catch(t){w.e(t)}finally{w.f()}}if(y.length)return y}(t,e,r,c,s,f):void 0}function de(t,e,r,n){var o,a=ye(t);try{for(a.s();!(o=a.n()).done;){var i=o.value;i[0]=(i[0]-e)*n,i[1]=(i[1]-r)*n}}catch(t){a.e(t)}finally{a.f()}}function me(t,e,r){var n=[],o=[];be(t,o,-80,e+80,1,r);for(var a=0,i=o;a<i.length;a++)be(i[a],n,-80,e+80,0,r);return n}function be(t,e,r,n,o,a){for(var i=[],u=0===o?ge:xe,l=t.length-1,f=0;f<l;f++){var c=t[f][0],s=t[f][1],y=t[f+1][0],h=t[f+1][1],p=0===o?c:s,v=0===o?y:h,d=!1;p<r?v>r&&u(i,c,s,y,h,r):p>n?v<n&&u(i,c,s,y,h,n):i.push([c,s]),v<r&&p>=r&&(u(i,c,s,y,h,r),d=!0),v>n&&p<=n&&(u(i,c,s,y,h,n),d=!0),!a&&d&&(e.push(i),i=[])}var m=t[l][0],b=t[l][1],g=0===o?m:b;if(g>=r&&g<=n&&i.push([m,b]),!(a&&i.length<3)){var x=i.length-1;!a||i[x][0]===i[0][0]&&i[x][1]===i[0][1]||i.push([i[0][0],i[0][1]]),i.length&&e.push(i)}}function ge(t,e,r,n,o,a){var i=(a-e)/(n-e);t.push([a,r+(o-r)*i])}function xe(t,e,r,n,o,a){var i=(a-r)/(o-r);t.push([e+(n-e)*i,a])}function we(t){return function(t){if(Array.isArray(t))return _e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ie(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Se(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ae(Object(r),!0).forEach((function(e){Oe(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ie(t,e){if(t){if("string"==typeof t)return _e(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_e(t,e):void 0}}function _e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function je(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Oe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Me=function(){function t(e,r,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Oe(this,"webgl1",!1),Oe(this,"mainThread",void 0),Oe(this,"glyphManager",void 0),Oe(this,"idGen",void 0),this.mainThread=e,this.glyphManager=new Zt(e,r,n,o),this.idGen=o}var e,r;return e=t,(r=[{key:"processVector",value:function(t,e,r,n,o,a,i){var u,l=this.webgl1,f=this.glyphManager,c=this.mainThread,s=this.idGen,y=e.zoom,h=e.id,p=r.split(":")[0],v=o.filter((function(t){return t.source===p&&(!i||i.includes(t.layerIndex))})),d=new Map,m={fill:[],line:[],point:[],heatmap:[],glyph:[]},b=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ie(t))){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}(v);try{for(b.s();!(u=b.n()).done;){var g=u.value,x=g.layer,w=g.name,A=g.cursor,S=g.source,I=g.minzoom,_=g.maxzoom,j=g.type,O=g.interactive,M=g.filter,k=g.layerIndex,T=g.onlyLines,C=g.paint,E=g.layout;if(!(I>y||_<y)&&(!a||a.layers.includes(k))&&m[j]){var P=m[j],X=n.layers[x];if(X)for(var Y=X.extent,B=0;B<X.length;B++){var G=X.feature(B),Z=G.properties;if(Te(j,G.type,T)&&M(Z)){var D=[];for(var L in C)C[L](D,Z,y);for(var U in E)E[U](D,Z,y);var V="fill"===j&&!a&&G.loadGeometryFlat?G.loadGeometryFlat():G.loadGeometry(),z=G.indices;if(z||(z=[]),a&&(V=ve(V,G.type,Y,e,a)),!V||!V.length)continue;var F=s.getNum();P.push({id:F,idRGB:[255&F,F>>8&255,F>>16&255],layerIndex:k,geometry:V,code:D,featureCode:l&&ke(j,C,E,Z,y),extent:Y,type:G.type,properties:Z,vertices:[],indices:z,sourceLayer:g}),O&&d.set(F,Se({__id:F,__cursor:A,__name:w,__source:S,__layer:x},Z))}}}}}catch(t){b.e(t)}finally{b.f()}m.fill.length&&rt(t,e,r,m.fill,c),m.line.length&&Qt(t,e,r,m.line,c),m.point.length&&ue(t,e,r,m.point,c),m.heatmap.length&&ue(t,e,r,m.heatmap,c),m.glyph.length&&f.processGlyphs(t,e,r,m.glyph),d.size&&function(t,e,r,n,o){var a,i,u,l=[],f=[],c=new TextEncoder("utf-8"),s=0,y=le(n);try{for(y.s();!(a=y.n()).done;){var h=(i=a.value,u=2,function(t){if(Array.isArray(t))return t}(i)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}}(i,u)||fe(i,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=h[0],v=h[1],d=c.encode(JSON.stringify(v)),m=d.length;l.push(p,s,s+m);var b,g=le(d);try{for(g.s();!(b=g.n()).done;){var x=b.value;f.push(x)}}catch(t){g.e(t)}finally{g.f()}s+=m}}catch(t){y.e(t)}finally{y.f()}var w=new Uint32Array(l).buffer,A=new Uint8Array(f).buffer;o({mapID:t,type:"interactive",sourceName:e,tileID:r,interactiveGuideBuffer:w,interactiveDataBuffer:A},[w,A])}(t,r,h,d,c),c({mapID:t,tileID:h,sourceName:r,type:"flush",fill:0!==m.fill.length,line:0!==m.line.length,point:0!==m.point.length,heatmap:0!==m.heatmap.length,glyph:0!==m.glyph.length})}}])&&je(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ke(t,e,r,n,o){var a=[];return"fill"===t?a.push.apply(a,we(e.color(null,n,o).getRGB()).concat([e.opacity(null,n,o)])):"line"===t?a.push.apply(a,we(e.color(null,n,o).getRGB()).concat([e.width(null,n,o)])):"point"===t?a.push.apply(a,we(e.color(null,n,o).getRGB()).concat([e.radius(null,n,o)],we(e.stroke(null,n,o).getRGB()),[e.strokeWidth(null,n,o),e.opacity(null,n,o)])):"heatmap"===t&&a.push(r.intensity(null,n,o),e.radius(null,n,o),e.opacity(null,n,o)),a}function Te(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"fill"===t&&(3===e||4===e)||!("line"!==t||2!==e&&(r||3!==e&&4!==e))||("point"===t||"heatmap"===t||"glyph"===t)&&1===e}var Ce=r(840),Ee=r.n(Ce),Pe=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function Xe(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Ye(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ye(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function Ye(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Be(t,e,r,n,o,a,i){try{var u=t[a](i),l=u.value}catch(t){return void r(t)}u.done?e(l):Promise.resolve(l).then(n,o)}function Ge(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Be(a,n,o,i,u,"next",t)}function u(t){Be(a,n,o,i,u,"throw",t)}i(void 0)}))}}function Ze(){return(Ze=Ge(Ee().mark((function t(e,r,n,o,a,i,u){var l,f,c,s,y,h,p,v,d,m,b,g,x,w,A;return Ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=n.id,f=n.zoom,c=n.time,s=o.split(":")[0],y=u.filter((function(t){return t.source===s})),h=[],p=Xe(y);try{for(p.s();!(v=p.n()).done;)d=v.value,m=d.paint,d.layout,b=d.type,g=d.layerIndex,h.push({opacity:r&&m.opacity(null,{},f),type:b,layerIndex:g})}catch(t){p.e(t)}finally{p.f()}return x=!0,w="function"!=typeof createImageBitmap||Pe?new Promise((function(t){x=!1,t(i)})):createImageBitmap(new Blob([i]),{premultiplyAlpha:"none"}),t.next=10,w;case 10:(A=t.sent)&&postMessage({mapID:e,type:"raster",tileID:l,built:x,sourceName:"".concat(o,":raster"),featureGuides:h,image:A,time:c},[A]);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function De(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ue(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function Le(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}}(t,e)||Ue(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(t,e){if(t){if("string"==typeof t)return Ve(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ve(t,e):void 0}}function Ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Fe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ne=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Fe(this,"id",void 0),Fe(this,"webgl1",!1),Fe(this,"vectorManager",void 0),Fe(this,"rasterManager",void 0),Fe(this,"maps",{}),Fe(this,"messagePort",void 0),Fe(this,"postPort",void 0)}var e,r;return e=t,(r=[{key:"onMessage",value:function(t){var e=t.data,r=e.mapID,n=e.type;"port"===n?this._loadWorkerPort(e.messagePort,e.postPort,e.id,e.totalWorkers):"style"===n?this._loadStyle(r,e.style):"vector"===n?this._processPBF(r,e.tile,e.sourceName,e.parent,e.data):"raster"===n?this._processRaster(r,e.tile,e.sourceName,e.parent,e.data):"jsondata"===n?this._processJSONData(r,e.tile,e.sourceName,e.data):"glyphresponse"===n?this._processGlyphResponse(r,e.reqID,e.glyphMetadata,e.familyName,e.icons,e.colors):"addLayer"===n?this._addLayer(r,e.layer,e.index):"removeLayer"===n?this._removeLayer(r,e.index):"reorderLayers"===n&&this._reorderLayers(r,e.layerChanges)}},{key:"_loadWorkerPort",value:function(t,e,r,n){t.onmessage=this.onMessage.bind(this),this.postPort=e,this.messagePort=t,this.id=r;var o={num:r+1,startNum:r+1,incrSize:n,maxNum:4194304,getNum:function(){var t=this.num;return this.num+=this.incrSize,this.num>=this.maxNum&&(this.num=this.startNum),t}};this.vectorManager=new Me(postMessage,e,r,o)}},{key:"_loadStyle",value:function(t,e){var r=e.layers,n=e.glType;(0,d.Nh)(r,n),this.maps[t]=r,this.webgl1=this.vectorManager.webgl1=1===n}},{key:"_addLayer",value:function(t,e,r){var n=this.maps[t];n.splice(r,0,e);for(var o=r+1,a=n.length;o<a;o++){var i=n[o];i.layerIndex++,i.depthPos++}}},{key:"_removeLayer",value:function(t,e){var r=this.maps[t];r.splice(e,1);for(var n=e,o=r.length;n<o;n++){var a=r[n];a.layerIndex--,a.depthPos--}}},{key:"_reorderLayers",value:function(t,e){for(var r=this.maps[t],n=[],o=0,a=Object.entries(e);o<a.length;o++){var i=Le(a[o],2),u=i[0],l=i[1];l=+l;var f=r[+u];f.layerIndex=l,f.depthPos=l+1,n[l]=f}for(var c=0;c<r.length;c++)r[c]=n[c]}},{key:"_processPBF",value:function(t,e,r,n,o){this.vectorManager.processVector(t,e,r,new v(o),this.maps[t],n)}},{key:"_processRaster",value:function(t,e,r,n,o){!function(t,e,r,n,o,a,i){Ze.apply(this,arguments)}(t,this.webgl1,e,r,n,o,this.maps[t])}},{key:"_processJSONData",value:function(t,e,r,n){n=JSON.parse(new TextDecoder("utf-8").decode(new Uint8Array(n)));for(var o=0,a=Object.values(n.layers);o<a.length;o++){var i=a[o];i.feature=function(t){return this.features[t]};var u,l=De(i.features);try{for(l.s();!(u=l.n()).done;)u.value.loadGeometry=function(){return this.geometry}}catch(t){l.e(t)}finally{l.f()}}this.vectorManager.processVector(t,e,r,n,this.maps[t])}},{key:"_processGlyphResponse",value:function(t,e,r,n,o,a){this.vectorManager.glyphManager.processGlyphResponse(e,r,n,o,a)}}])&&ze(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}());onmessage=Ne.onMessage.bind(Ne)}},n={};function o(t){var e=n[t];if(void 0!==e)return e.exports;var a=n[t]={id:t,loaded:!1,exports:{}};return r[t](a,a.exports,o),a.loaded=!0,a.exports}o.m=r,o.x=()=>{var t=o.O(void 0,[840,894,115],(()=>o(301)));return o.O(t)},t=[],o.O=(e,r,n,a)=>{if(!r){var i=1/0;for(c=0;c<t.length;c++){for(var[r,n,a]=t[c],u=!0,l=0;l<r.length;l++)(!1&a||i>=a)&&Object.keys(o.O).every((t=>o.O[t](r[l])))?r.splice(l--,1):(u=!1,a<i&&(i=a));if(u){t.splice(c--,1);var f=n();void 0!==f&&(e=f)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[r,n,a]},o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.f={},o.e=t=>Promise.all(Object.keys(o.f).reduce(((e,r)=>(o.f[r](t,e),e)),[])),o.u=t=>t+".min.js",o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),o.p="http://localhost:3000/s2maps-gl/v0.3.3-dev/",(()=>{var t={136:1};o.f.i=(e,r)=>{t[e]||importScripts(o.p+o.u(e))};var e=this.webpackChunk=this.webpackChunk||[],r=e.push.bind(e);e.push=e=>{var[n,a,i]=e;for(var u in a)o.o(a,u)&&(o.m[u]=a[u]);for(i&&i(o);n.length;)t[n.pop()]=1;r(e)}})(),e=o.x,o.x=()=>Promise.all([840,894,115].map(o.e,o)).then(e),o.x()})();